(window["webpackJsonpredux-movies"]=window["webpackJsonpredux-movies"]||[]).push([[0],{55:function(e,t,a){e.exports=a(96)},81:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(20),c=a.n(o),i=a(24),l=a(22),s=a(46),u=a(47),m=a(7),E={SET_COMPANY:"SET_COMPANY",SET_KEYWORD:"SET_KEYWORD",FETCH_KEYWORDS:"FETCH_KEYWORDS",FETCH_MOVIES_BY_COMPANY:"FETCH_MOVIES_BY_COMPANY",FETCH_MOVIES_BY_KEYWORD:"FETCH_MOVIES_BY_KEYWORD",FILTER_MOVIES_BY_RATING:"FILTER_MOVIES_BY_RATING",FILTER_MOVIES_BY_APPROVAL:"FILTER_MOVIES_BY_APPROVAL",START_FETCH:"START_FETCH",END_FETCH_SUCCESS:"END_FETCH_SUCCESS",END_FETCH_FAIL:"END_FETCH_FAIL",CLEAR_KEYWORDS:"CLEAR_KEYWORDS",API_KEY:Object({NODE_ENV:"production",PUBLIC_URL:""}).API_KEY},p=a(30),d=a.n(p);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:E.START_FETCH}),t({type:e.actionType}),d.a.get(e.baseUrl,{params:e.apiParams}).then(function(a){return t({type:e.actionType,payload:a.data.results})}).then(function(){return t({type:E.END_FETCH_SUCCESS})}).catch(function(e){return t({type:E.END_FETCH_FAIL,error:"".concat(e)})})}}var _="a6a955dd02dbd7e9ec3bbff3deb74190";function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function h(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:E.START_FETCH}),t({type:e.actionType}),d.a.get(e.baseUrl,{params:e.apiParams}).then(function(a){return t({type:e.actionType,payload:a.data.results})}).then(function(){return t({type:E.END_FETCH_SUCCESS})}).then(function(){return t({type:E.CLEAR_KEYWORDS})}).catch(function(e){return t({type:E.END_FETCH_FAIL,error:"".concat(e)})})}}({baseUrl:"https://api.themoviedb.org/3/search/movie?api_key=".concat(_),actionType:E.FETCH_MOVIES_BY_KEYWORD,apiParams:{query:"".concat(e),language:"en-US",include_adult:!1,page:1}})}var g={movies:[],approvedCompanies:[{name:"Dreamworks Animation SKG",id:"521"},{name:"Twentieth Century Fox Film Corp.",id:"25"},{name:"Fox Searchlight Pictures",id:"43"},{name:"Fox 2000 Films",id:"711"},{name:"STX Entertainment",id:"47729"}],fetching:!1,totalPages:null,currentPage:null,showPagination:!1,isError:!1,isApprovedCompany:!1};var C=Object(l.a)(u.a,s.logger),O=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.FETCH_MOVIES_BY_COMPANY:return v({},e,{movies:t.payload});case E.FETCH_KEYWORDS:return v({},e,{keywords:t.payload});case E.CLEAR_KEYWORDS:return v({},e,{keywords:[]});case E.SET_COMPANY:return v({},e,{company:t.payload});case E.SET_KEYWORD:return v({},e,{keyword:t.payload});case E.FETCH_MOVIES_BY_KEYWORD:case E.FILTER_MOVIES_BY_RATING:case E.FILTER_MOVIES_BY_APPROVAL:return v({},e,{movies:t.payload});case E.END_FETCH_SUCCESS:return v({},e,{fetching:!1,isError:!1});case E.END_FETCH_FAIL:return v({},e,{fetching:!1,isError:!0});default:return e}},C),S=(a(81),a(114)),T=a(26),b=a(18),w=a(111),F=a(113),R=function(e){var t=e.companies,a=e.getCompany;return n.a.createElement("select",{className:"custom-select mb-2 mr-sm-2 mt-2",onChange:function(e){a(e.target.value)}},n.a.createElement("option",{value:"null",tabIndex:0},"Make Selection"),t.map(function(e){return n.a.createElement("option",{key:e.id,value:e.id,tabIndex:0},e.name)}))},Y=a(33);var I=function(e){var t=e.id,a=e.name,r=e.handleKeywordClick;return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"list-group-item pointer keyword",onClick:function(){r(t,a)},tabIndex:0},a))};var K=function(e){var t=e.keywordSuggestions,a=e.handleKeywordClick;return n.a.createElement("ul",{className:"list-group"},t&&t.map(function(e){return n.a.createElement(I,{id:e.id,key:e.id,name:e.name,handleKeywordClick:a})}))};var N=function(e){var t=e.fetchMoviesByKeyword,a=e.fetchKeywords,o=e.keywordSuggestions,c=Object(r.useState)(""),i=Object(Y.a)(c,2),l=i[0],s=i[1],u=Object(r.useState)(!1),m=Object(Y.a)(u,2),E=m[0],p=m[1];function d(){p(""===l),E||t(l),s("")}var y=n.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Please enter a search term.");return n.a.createElement(n.a.Fragment,null,E&&y,n.a.createElement("div",{className:"input-group md-form form-sm form-2 pl-0 mb-2 mt-2"},n.a.createElement("input",{className:"form-control my-0 py-1 lime-border",type:"text",placeholder:"Search","aria-label":"Search",id:"search",value:l,onChange:function(e){p(!1),s(e.target.value),a(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"input-group-text lime lighten-2",id:"search",onClick:d},n.a.createElement("i",{className:"fa fa-search"})))),n.a.createElement(K,{keywordSuggestions:o,handleKeywordClick:function(e,a){s(a),t(a),s("")},onKeyPress:function(e){var t=e.keyCode,a=e.target;switch(console.log("KEY>>> ",t," ",a.id),t){case 13:d();break;default:return}}}))},A=a(51),P=a(110);var k=function(e){var t=e.poster_path,a=e.title,o=e.release_date,c=e.overview,i=e.style,l=null!=t?n.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/".concat(t),alt:"movie cover for ".concat(a)}):n.a.createElement("div",null,n.a.createElement("p",null,"\ud83d\ude1e \ud83d\ude1e \ud83d\ude1e"),n.a.createElement("p",null,"No movie image"));return n.a.createElement(r.Fragment,null,n.a.createElement(P.a,{item:!0,md:4,xs:12,align:"center",style:i},l),n.a.createElement(P.a,{item:!0,md:8,xs:12,style:i},n.a.createElement("h3",null,a," (",o?o.substring(0,4):"No Date",")"),n.a.createElement("p",null,c)))};var D=function(e){var t=e.movies;return n.a.createElement(P.a,{container:!0,spacing:3},n.a.createElement(A.Transition,{items:t,keys:function(e){return e.id},from:{opacity:0},leave:{opacity:0},enter:{opacity:1}},function(e){return function(t){return n.a.createElement(k,{style:t,title:e.original_title,release_date:e.release_date,overview:e.overview,poster_path:e.poster_path})}}))};var M=function(e){var t=e.data,a=e.fetchMoviesByCompany,r=e.fetchMoviesByKeyword,o=e.fetchKeywords,c=e.clearKeywords;return n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,null),n.a.createElement(w.a,{className:"mt-2"},n.a.createElement(T.a,null,n.a.createElement("h1",{className:"text-center p-3"},"Movie App"),n.a.createElement(T.b,{to:"/"},n.a.createElement(F.a,{label:"Search by Company",clickable:!0})),n.a.createElement(T.b,{to:"/search"},n.a.createElement(F.a,{label:"Search by Keyword",clickable:!0})),n.a.createElement(b.a,{path:"/search",exact:!0,render:function(){return n.a.createElement(N,{fetchMoviesByKeyword:r,fetchKeywords:o,keywordSuggestions:t.keywords,clearKeywords:c})}}),n.a.createElement(b.a,{path:"/",exact:!0,render:function(){return n.a.createElement(R,{companies:t.approvedCompanies,getCompany:a})}}),t.movies&&n.a.createElement(D,{movies:t.movies}))))};var H=Object(i.b)(function(e){return{data:e}},function(e){return{fetchMoviesByCompany:function(t){return e(function(e){return y({baseUrl:"https://api.themoviedb.org/3/discover/movie?",actionType:E.FETCH_MOVIES_BY_COMPANY,apiParams:{api_key:"".concat(_),append_to_response:"videos",sort_by:"popularity.desc",with_companies:"".concat(e),pages:"1"}})}(t))},fetchMoviesByKeyword:function(t){return e(h(t))},fetchKeywords:function(t){return e(function(e){return y({baseUrl:"https://api.themoviedb.org/3/search/keyword?",actionType:E.FETCH_KEYWORDS,apiParams:{api_key:"".concat(_),query:"".concat(e),pages:"1"}})}(t))},clearKeywords:function(){return e({type:E.CLEAR_KEYWORDS})},filterMoviesByRating:function(t){return e({type:E.FILTER_MOVIES_BY_RATING})}}})(M);var B=function(){return n.a.createElement(i.a,{store:O},n.a.createElement("div",{className:"container"},n.a.createElement(H,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.d6f41fc6.chunk.js.map